<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
 
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/css/datepicker.min.css" rel="stylesheet" type="text/css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/css/bootstrap-switch.css" rel="stylesheet" type="text/css">
    <link href="https://davidstutz.github.io/bootstrap-multiselect/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css">
   
    <title>SCC STUDENT PORTAL</title> 
   
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/js/bootstrap-switch.min.js" type="text/javascript"></script>
    <script src="https://davidstutz.github.io/bootstrap-multiselect/js/bootstrap-multiselect.js" type="text/javascript"></script>
    
    <style>
        * {
    margin: 0;
    padding: 0;
}
.imgbox {
    display: grid;
    height: 100%;
}
.center-fit {
    max-width: 100%;
    max-height: 100vh;
    margin: auto;
}
    </style>
</head>
<body>

        <nav class="sidebar open">
            <header>
                <div class="image-text">
                    <span class="image">
                        <img src="logo.png" alt="">
                    </span>
    
                    <div class="text logo-text">
                        <span class="profession">STUDENT PORTAL</span>
                    </div>
                </div>
            </header>
    
            <div class="menu-bar">
                <div class="menu">
    
                    <ul class="menu-links">
                        
                        <li class="nav-link">
                            <a href="#section-home">
                                <i class='bx bx-home-alt icon' ></i>
                                <span class="text nav-text">Home</span>
                            </a>
                        </li>
    
                    
    
                        <li class="nav-link">
                          <a href="#section-form">
                                <i class='bx bxs-user-account icon'></i>
                                <span class="text nav-text">Admission</span>
                            </a>
                        </li>

                    </ul>
                </div>
    
                <div class="bottom-content">
                    <li class="">
                        <a href="#">
                            <i class='bx bx-log-out icon' ></i>
                            <span class="text nav-text">Logout</span>
                        </a>
                    </li>
    
                    <li class="mode">
                        <div class="sun-moon">
                            <i class='bx bx-moon icon moon'></i>
                            <i class='bx bx-sun icon sun'></i>
                        </div>
                        <span class="mode-text text">Dark mode</span>
    
                        <div class="toggle-switch">
                            <span class="switch"></span>
                        </div>
                    </li>
                    
                </div>
            </div>  
        </nav>


    <div id="section-home" class="tab-content">
      <section class="home">
        <div class="text">PANAGDAIT</div>
        <div class="imgbox">
            <img class="center-fit" src='logo.png'>
        </div>
    </section>
    </div>

    <!--form-->

    <div id="section-form" class="tab-content">
      <div class="container">
        <div class="panel panel-success dialog-panel">
          <div class="panel-heading">
            <h5>ADMISSION</h5>
          </div>
  
          <div class="panel-body">
            <form class="form-horizontal" role="form">
              <!--type-->
      
            <div class="form-group">
                <label class="control-label col-md-2 col-md-offset-2" for="type">Student Type</label>
                <div class="col-md-2">
  
                  <select class="form-control" id="type">
                    <option value="" disabled selected>Select Type</option>
                    <option value="Old">Old</option>
                    <option value="New">New</option>
                    <option value="Transferee">Transferee</option>
                  </select>
                </div>
              </div>
  
              <!--edp-->
              <div class="form-group">
                  <label class="control-label col-md-2 col-md-offset-2" for="edp">EDP</label>
                  <div class="col-md-8">
  
                    <div class="col-md-3 indent-small">
                      <div class="form-group internal">
                        <input class="form-control" id="edp" placeholder="EDP#" type="text">
                      </div>
                    </div>
  
                  </div>
              </div>
              
              <!--name-->
              <div class="form-group">
                <label class="control-label col-md-2 col-md-offset-2" for="name">Student Name</label>
                <div class="col-md-8">
    
                  <div class="col-md-3 indent-small">
                    <div class="form-group internal">
                      <input class="form-control" id="fname" placeholder="First Name" type="text">
                    </div>
                  </div>
    
                  <div class="col-md-3 indent-small">
                    <div class="form-group internal">
                      <input class="form-control" id="mname" placeholder="MIddle Name" type="text">
                    </div>
                  </div>
    
                  <div class="col-md-3 indent-small">
                    <div class="form-group internal">
                      <input class="form-control" id="lname" placeholder="Last Name" type="text">
                    </div>
                  </div>
    
                </div>
              </div>
  
              <!--courseYear-->
              <div class="form-group">
                <label class="control-label col-md-2 col-md-offset-2">Course & Year</label>
                <div class="col-md-8">
  
                  <div class="col-md-4">
                    <div class="form-group internal">
                      <select class="form-control" id="course">
                        <option value="" disabled selected>Select your Course</option>
                        <option value ="BSIT">BSIT</option>
                        <option value ="BSCS">BSCS</option>
                      </select>
                    </div>
                  </div>
  
                  <div class="col-md-2 indent-small">
                    <div class="form-group internal">
                      <select class="form-control" id="year">
                        <option value="" disabled selected>Select Year</option>
                        <option value=1>1</option>
                        <option value=2>2</option>
                        <option value=3>3</option>
                        <option value=4>4</option>
                      </select>
                    </div>
                  </div>
  
                </div>
              </div>
  
  
                <!--semester-->
              <div class="form-group">
                <label class="control-label col-md-2 col-md-offset-2" for="semester">Semester</label>
                <div class="col-md-8">
                  <div class="col-md-4">
                    <div class="form-group internal">
                      <select class="form-control" id="semester">
                        <option value="" disabled selected>Select Semester</option>
                        <option value="First Semester">First Semester</option>
                        <option value="Second Semester">Second Semester</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>  
  
              <!--subjects-->
              <div class="form-group">
                <label class="control-label col-md-2 col-md-offset-2" for="type">Enter Subjects</label>
                <div class="col-md-6">
  
                  <div class="row">
                      <div class="col-md-12">
                          <div class="form-group">
                              <table class="table table-bordered" id="dynamic_field">  
                                      <tr>  
                                          <td><input type="text" name="classcode" id="classcode0" placeholder="Class Code" class="form-control name_list" /></td>
                                          <td><input type="text" name="subject" id="subject0" placeholder="Subject Name" class="form-control name_list" /></td>
                                          <td><input type="text" name="Schedule" id="schedule0" placeholder="Schedule" class="form-control name_list" /></td>  
                                          <td><button type="button" name="add" id="add" class="btn btn-success">Add More</button></td>  
                                      </tr>  
                              </table>
                              <script>
                                var i =  {
                                       counter : 0,
                                       button_id : 0,
                                   }  
                               $(document).ready(function(){  
                                   $('#add').click(function(){  
                                       i.counter++;  
                                       i.button_id = i.counter;
                                       console.log(i.counter);
                                       console.log(i.button_id);
                                       $('#dynamic_field').append('<tr id="row'+i.counter+'"><td><input type="text" name="classcode" id="classcode'+i.counter+'" placeholder="Class Code" class="form-control name_list" /></td><td><input type="text" name="subject" id="subject'+i.counter+'" placeholder="Subject Name" class="form-control name_list" /></td> <td><input type="text" name="Schedule" id="schedule'+i.counter+'" placeholder="Schedule" class="form-control name_list" /></td><td><button type="button" name="remove" id="'+i+'" class="btn btn-danger btn_remove">X</button></td></tr>');  
                                   });  
                                   console.log(i.counter);
                                   $(document).on('click', '.btn_remove', function(){  
                              
                                       $('#'+"row"+i.button_id).remove();
                                       i.button_id--;
                                       i.counter--;  
                                       console.log(i.button_id);
                                       console.log(i.counter);
                                   });  
                               });  
                               var coursesubjects = [];
                               var cou = i.counter;
                               for (c = 0; c <= cou; c++) {
                                 var cclasscode = document.getElementById("classcode" + c).value;
                                 var csubjects = document.getElementsById("subject" + c).value;     
                                 var cschedule = document.getElementById("schedule" + c).value;
                                 coursesubjects.push(cclasscode);
                                 SubjectString = JSON.stringify(coursesubjects)
                               };
                               </script>  
                              
                          </div>
                      </div>
                  </div>
    
                
              </div>
              </div>
                                               
            <div class="form-group">
              <div class="col-md-offset-4 col-md-3">
                <button class="btn-lg btn-primary" id="submit_msg" type="button">Submit Admission</button>
              </div>
            </div>
               
            </form>
           </div>
        </div>
      </div>
    </div>


    

    

</body>
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>
<script type="text/javascript">
    //content control
    $(document).ready(function () {
      $('.menu-bar ul li:first').addClass('active');
      $('.tab-content:not(:first)').hide();
      $('.menu-bar ul li a').click(function (event) {
          event.preventDefault();
          var content = $(this).attr('href');
          $(this).parent().addClass('active');
          $(this).parent().siblings().removeClass('active');
          $(content).show();
          $(content).siblings('.tab-content').hide();
      });
  });
    //mode

    const body = document.querySelector('body'),
    sidebar = body.querySelector('nav'),
    toggle = body.querySelector(".toggle"),
    searchBtn = body.querySelector(".search-box"),
    modeSwitch = body.querySelector(".toggle-switch"),
    modeText = body.querySelector(".mode-text");

    modeSwitch.addEventListener("click" , () =>{
        body.classList.toggle("dark");
        
        if(body.classList.contains("dark")){
            modeText.innerText = "Light mode";
        }else{
            modeText.innerText = "Dark mode";
            
        }
    });
    
    //firebase control
    (function() {
      var firebaseConfig = {
        apiKey: "AIzaSyAcTHbVFrSbfAmKENBeydCkZv1dRD80tDs",
        authDomain: "enrollment-d0446.firebaseapp.com",
        databaseURL: "https://enrollment-d0446-default-rtdb.firebaseio.com",
        projectId: "enrollment-d0446",
        storageBucket: "enrollment-d0446.appspot.com",
        messagingSenderId: "355031814991",
        appId: "1:355031814991:web:153e0a40e0767e15586b3a",
        measurementId: "G-8WB2GSNGCS"
      };

      firebase.initializeApp(firebaseConfig);

      var push_to_firebase = function(data){
        alert("Your Admission has been received!")
        var db = firebase.firestore();

        db.collection("admissions").add({
                       type: data["type"],
            edp: data["edp"],
            fname: data["fname"],
            mname: data["mname"],
            lname: data["lname"],
            course: data["course"],
            year: data["year"],
            semester: data["semester"],
            subjects: coursesubjects,
            admissionUID: Date.now(),
            guidanceApproval: "false",
            dsaApproval: "false",
            treasuryApproval: "false",
            advisingApproval: "false",
            admissionComplete: "false",


            tuitionFee: 0,
            miscellaneousFee: 0,
            labFee: 0,
            totalCharges: 0,
            lessPayments: 0
        })
        .then(function(docRef) {
            console.log("Message sent, ID: ", docRef.id);
            location.reload();
        })
        .catch(function(error) {
            console.error("Message could not be sent: ", error);
        });
      }

      var contact_submit = function(){
        
        var type = document.getElementById("type");
        var edp = document.getElementById("edp");
        var fname = document.getElementById("fname");
        var mname = document.getElementById("mname");
        var lname = document.getElementById("lname");
        var course = document.getElementById("course");
        var year = document.getElementById("year");
        var semester = document.getElementById("semester");
       

       

        var data = {
          "type": type.value,
          "edp": edp.value,
          "fname": fname.value,
          "mname": mname.value,
          "lname": lname.value,
          "course": course.value,
          "year": year.value,
          "semester": semester.value,
          "subjects": coursesubjects.value,

         
        }
        push_to_firebase(data);

      }

      document.getElementById("submit_msg").addEventListener("click", contact_submit);
    })();
</script>
</html>