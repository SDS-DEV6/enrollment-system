<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SCC ENROLLMENT</title>

    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/css/datepicker.min.css" rel="stylesheet" type="text/css">
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/css/bootstrap-switch.css" rel="stylesheet" type="text/css">
    <link href="https://davidstutz.github.io/bootstrap-multiselect/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.2.0/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/1.8/js/bootstrap-switch.min.js" type="text/javascript"></script>
    <script src="https://davidstutz.github.io/bootstrap-multiselect/js/bootstrap-multiselect.js" type="text/javascript"></script>

      <style>
        .indent-small {
  margin-left: 5px;
}
.form-group.internal {
  margin-bottom: 0;
}
.dialog-panel {
  margin: 10px;
}
.datepicker-dropdown {
  z-index: 200 !important;
}
.panel-body {
  background: #e5e5e5;
  /* Old browsers */
  background: -moz-radial-gradient(center, ellipse cover, #e5e5e5 0%, #ffffff 100%);
  /* FF3.6+ */
  background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%, #e5e5e5), color-stop(100%, #ffffff));
  /* Chrome,Safari4+ */
  background: -webkit-radial-gradient(center, ellipse cover, #e5e5e5 0%, #ffffff 100%);
  /* Chrome10+,Safari5.1+ */
  background: -o-radial-gradient(center, ellipse cover, #e5e5e5 0%, #ffffff 100%);
  /* Opera 12+ */
  background: -ms-radial-gradient(center, ellipse cover, #e5e5e5 0%, #ffffff 100%);
  /* IE10+ */
  background: radial-gradient(ellipse at center, #e5e5e5 0%, #ffffff 100%);
  /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#e5e5e5", endColorstr="#ffffff", GradientType=1);
  /* IE6-9 fallback on horizontal gradient */
  font: 600 15px "Open Sans", Arial, sans-serif;
}
label.control-label {
  font-weight: 600;
  color: #777;
}


/*semester selector*/

input{
    outline: none;
    border: none;
}
.multi-selector{
    width: max-content;
}
.select-field{
    border: 1px solid rgb(187, 187, 187);
}
.select-field,.task,.list{
    width: 100%;
    background-color: white;
    padding: 0.3rem;
}
.list{
    box-shadow: 0 30px 60px rgb(0,0,0,0.2);
    display: none;
}
.down-arrow{
    font-size: 1.2rem;
    display: inline-block;
    cursor: pointer;
    transition: 0.2s linear;
}
.task{
    display: block;
    padding-left: 0;
}
.task span{
    float: right;
    font-size: 0.6rem;
    padding-top: 6px;
}
.task:hover{
    background-color: aliceblue;
}
.show{
    display: block;
}
.rotate180{
    transform: rotate(-60deg);
}


      </style>
  </head>
  <body>

    <div class="container">
      <div class="panel panel-success dialog-panel">
        <div class="panel-heading">
          <h5>SCC ADMISSION</h5>
        </div>

        <div class="panel-body">
          <form class="form-horizontal" role="form">

            <!--type-->
      
            <div class="form-group">
              <label class="control-label col-md-2 col-md-offset-2" for="type">Student Type</label>
              <div class="col-md-2">

                <select class="form-control" id="type">
                  <option value="" disabled selected>Select Type</option>
                  <option value="Old">Old</option>
                  <option value="New">New</option>
                  <option value="Transferee">Transferee</option>
                </select>
              </div>
            </div>

            <!--edp-->
            <div class="form-group">
                <label class="control-label col-md-2 col-md-offset-2" for="edp">EDP</label>
                <div class="col-md-8">

                  <div class="col-md-3 indent-small">
                    <div class="form-group internal">
                      <input class="form-control" id="edp" placeholder="EDP#" type="text">
                    </div>
                  </div>

                </div>
            </div>
            
            <!--name-->
            <div class="form-group">
              <label class="control-label col-md-2 col-md-offset-2" for="name">Student Name</label>
              <div class="col-md-8">
  
                <div class="col-md-3 indent-small">
                  <div class="form-group internal">
                    <input class="form-control" id="fname" placeholder="First Name" type="text">
                  </div>
                </div>
  
                <div class="col-md-3 indent-small">
                  <div class="form-group internal">
                    <input class="form-control" id="mname" placeholder="MIddle Name" type="text">
                  </div>
                </div>
  
                <div class="col-md-3 indent-small">
                  <div class="form-group internal">
                    <input class="form-control" id="lname" placeholder="Last Name" type="text">
                  </div>
                </div>
  
              </div>
            </div>>

            <!--courseYear-->
            <div class="form-group">
              <label class="control-label col-md-2 col-md-offset-2">Course & Year</label>
              <div class="col-md-8">

                <div class="col-md-4">
                  <div class="form-group internal">
                    <select class="form-control" id="course">
                      <option value="" disabled selected>Select your Course</option>
                      <option value ="BSIT">BSIT</option>
                      <option value ="BSCS">BSCS</option>
                    </select>
                  </div>
                </div>

                <div class="col-md-2 indent-small">
                  <div class="form-group internal">
                    <select class="form-control" id="year">
                      <option value="" disabled selected>Select Year</option>
                      <option value=1>1</option>
                      <option value=2>2</option>
                      <option value=3>3</option>
                      <option value=4>4</option>
                    </select>
                  </div>
                </div>

              </div>
            </div>


              <!--semester-->>
            <div class="form-group">
              <label class="control-label col-md-2 col-md-offset-2" for="semester">Semester</label>
              <div class="col-md-8">
                <div class="col-md-4">
                  <div class="form-group internal">
                    <select class="form-control" id="semester">
                      <option value="" disabled selected>Select Semester</option>
                      <option value="First Semester">First Semester</option>
                      <option value="Second Semester">Second Semester</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>



            <!--subjects-->
            <div class="form-group">
              <label class="control-label col-md-2 col-md-offset-2" for="type">Enter Subjects</label>
              <div class="col-md-6">

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <table class="table table-bordered" id="dynamic_field">  
                                    <tr>  
                                        <td><input type="text" name="classcode" id="classcode0" placeholder="Class Code" class="form-control name_list" /></td>
                                        <td><input type="text" name="subject" id="subject0" placeholder="Subject Name" class="form-control name_list" /></td>
                                        <td><input type="text" name="Schedule" id="schedule0" placeholder="Schedule" class="form-control name_list" /></td>  
                                        <td><button type="button" name="add" id="add" class="btn btn-success">Add More</button></td>  
                                    </tr>  
                            </table>
                            <script>
                              var i =  {
                                     counter : 0,
                                     button_id : 0,
                                 }  
                             $(document).ready(function(){  
                                 $('#add').click(function(){  
                                     i.counter++;  
                                     i.button_id = i.counter;
                                     console.log(i.counter);
                                     console.log(i.button_id);
                                     $('#dynamic_field').append('<tr id="row'+i.counter+'"><td><input type="text" name="classcode" id="classcode'+i.counter+'" placeholder="Class Code" class="form-control name_list" /></td><td><input type="text" name="subject" id="subject'+i.counter+'" placeholder="Subject Name" class="form-control name_list" /></td> <td><input type="text" name="Schedule" id="schedule'+i.counter+'" placeholder="Schedule" class="form-control name_list" /></td><td><button type="button" name="remove" id="'+i+'" class="btn btn-danger btn_remove">X</button></td></tr>');  
                                 });  
                                 console.log(i.counter);
                                 $(document).on('click', '.btn_remove', function(){  
                            
                                     $('#'+"row"+i.button_id).remove();
                                     i.button_id--;
                                     i.counter--;  
                                     console.log(i.button_id);
                                     console.log(i.counter);
                                 });  
                             });  
                             var coursesubjects = [];
                             var cou = i.counter;
                             for (c = 0; c <= cou; c++) {
                               var cclasscode = document.getElementById("classcode" + c).value;
                               var csubjects = document.getElementsById("subject" + c).value;     
                               var cschedule = document.getElementById("schedule" + c).value;
                               coursesubjects.push(cclasscode);
                               SubjectString = JSON.stringify(coursesubjects)
                             };
                             </script>  
                            
                        </div>
                    </div>
                </div>
  
              
            </div>
            </div>
                        




       
          <div class="form-group">
            <div class="col-md-offset-4 col-md-3">
              <button class="btn-lg btn-primary" id="submit_msg" type="button">Submit Admission</button>
            </div>
          </div>
             
          </form>
         </div>
      </div>
    </div>


    




  </body>
  <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>
  <script type="text/javascript">
    (function() {
      var firebaseConfig = {
        apiKey: "AIzaSyAcTHbVFrSbfAmKENBeydCkZv1dRD80tDs",
        authDomain: "enrollment-d0446.firebaseapp.com",
        databaseURL: "https://enrollment-d0446-default-rtdb.firebaseio.com",
        projectId: "enrollment-d0446",
        storageBucket: "enrollment-d0446.appspot.com",
        messagingSenderId: "355031814991",
        appId: "1:355031814991:web:153e0a40e0767e15586b3a",
        measurementId: "G-8WB2GSNGCS"
      };

      firebase.initializeApp(firebaseConfig);

      var push_to_firebase = function(data){
        alert("Thanks for sending a message. I'll try and get back to you as soon as possible.")
        var db = firebase.firestore();

        db.collection("admissions").add({
                       type: data["type"],
            edp: data["edp"],
            fname: data["fname"],
            mname: data["mname"],
            lname: data["lname"],
            course: data["course"],
            year: data["year"],
            semester: data["semester"],
            subjects: coursesubjects,
            admissionUID: Date.now(),
            guidanceApproval: "false",
            dsaApproval: "false",
            treasuryApproval: "false",
            advisingApproval: "false",
            admissionComplete: "false",


            tuitionFee: 0,
            miscellaneousFee: 0,
            labFee: 0,
            totalCharges: 0,
            lessPayments: 0
        })
        .then(function(docRef) {
            console.log("Message sent, ID: ", docRef.id);
            location.reload();
        })
        .catch(function(error) {
            console.error("Message could not be sent: ", error);
        });
      }

      var contact_submit = function(){
        
        var type = document.getElementById("type");
        var edp = document.getElementById("edp");
        var fname = document.getElementById("fname");
        var mname = document.getElementById("mname");
        var lname = document.getElementById("lname");
        var course = document.getElementById("course");
        var year = document.getElementById("year");
        var semester = document.getElementById("semester");
       

       

        var data = {
          "type": type.value,
          "edp": edp.value,
          "fname": fname.value,
          "mname": mname.value,
          "lname": lname.value,
          "course": course.value,
          "year": year.value,
          "semester": semester.value,
          "subjects": coursesubjects.value,

         
        }
        push_to_firebase(data);

      }

      document.getElementById("submit_msg").addEventListener("click", contact_submit);
    })();
  </script>
</html>